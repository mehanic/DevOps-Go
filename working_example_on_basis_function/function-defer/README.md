–ö–æ–Ω–µ—á–Ω–æ! –î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä—ë–º —ç—Ç–æ—Ç Go-–∫–æ–¥ —à–∞–≥ –∑–∞ —à–∞–≥–æ–º:

```go
func end() {
	fmt.Println("function ends")
}

func main() {
	defer end()
	num := 5

	defer func(x int) {
		fmt.Println(x)
	}(num)
	num = 20

	// Output:
	// 5
	// function ends
}
```

---

### üß† –ö–ª—é—á–µ–≤—ã–µ –ø–æ–Ω—è—Ç–∏—è:

#### 1. `defer` ‚Äî –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ  
–í Go, `defer` –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ **–¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ —Ñ—É–Ω–∫—Ü–∏—è, –≤ –∫–æ—Ç–æ—Ä–æ–π –æ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è, –Ω–µ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è**.  
–í—Å–µ `defer`-–≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è **–≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ**, –∫–∞–∫ —Å—Ç–µ–∫ (LIFO: Last In, First Out).

---

### üîç –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—à–∞–≥–æ–≤–æ:

1. –í `main()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `defer end()` ‚Äî —ç—Ç–æ—Ç –≤—ã–∑–æ–≤ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω **–≤ —Å–∞–º–æ–º –∫–æ–Ω—Ü–µ** `main()`, –∫–æ–≥–¥–∞ –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ –æ—Ç—Ä–∞–±–æ—Ç–∞–µ—Ç.

2. –ü–µ—Ä–µ–º–µ–Ω–Ω–æ–π `num` –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ `5`.

3. –ó–∞—Ç–µ–º –∏–¥—ë—Ç –≤—Ç–æ—Ä–æ–π `defer`:

```go
defer func(x int) {
	fmt.Println(x)
}(num)
```

‚ö†Ô∏è **–í–∞–∂–Ω–æ!** ‚Äî —ç—Ç–∞ –∞–Ω–æ–Ω–∏–º–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç `end`), –Ω–æ –µ—ë **–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è**.  
–ü—Ä–∏ —ç—Ç–æ–º **–∑–Ω–∞—á–µ–Ω–∏–µ `num` –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç `x`, –∏ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî `5` –Ω–∞ –º–æ–º–µ–Ω—Ç –≤—ã–∑–æ–≤–∞**.

4. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ `num` –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `20`. –ù–æ —ç—Ç–æ —É–∂–µ **–Ω–µ –≤–ª–∏—è–µ—Ç** –Ω–∞ `x`, –ø–æ—Ç–æ–º—É —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ —É–∂–µ –ø–µ—Ä–µ–¥–∞–Ω–æ –≤ `defer func(x int)` —Ä–∞–Ω–µ–µ.

---

### üßæ –ß—Ç–æ –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω–æ?

–ö–æ–≥–¥–∞ `main()` –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è, Go —Å–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç `defer`'—ã –≤ **–æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ**:

- –°–Ω–∞—á–∞–ª–∞ `fmt.Println(x)` –∏–∑ –∞–Ω–æ–Ω–∏–º–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, –≥–¥–µ `x = 5`
- –ü–æ—Ç–æ–º `end()`, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–æ–¥–∏—Ç `"function ends"`

---

### ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π –≤—ã–≤–æ–¥:

```
5
function ends
```

–•–æ—á–µ—à—å, –º–æ–≥—É –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–µ—Ä, –≥–¥–µ `num` **–Ω–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç**, –∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–∫–∞–∫ –∑–∞–º—ã–∫–∞–Ω–∏–µ (closure)** ‚Äî —Ç–æ–≥–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –¥—Ä—É–≥–æ–π.