–≠—Ç–æ—Ç Go-–∫–æ–¥ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç **–∑–∞–º—ã–∫–∞–Ω–∏—è (closures)** –∏ **—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ** —á–µ—Ä–µ–∑ —Ç–∏–ø `iAdder`. –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º –∫–∞–∂–¥—É—é —á–∞—Å—Ç—å –ø–æ—à–∞–≥–æ–≤–æ.

---

## üîπ `func adder() func(int) int`

–≠—Ç–æ –ø—Ä–æ—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è-–∑–∞–º—ã–∫–∞–Ω–∏–µ (closure):

```go
func adder() func(int) int {
	sum := 0
	return func(v int) int {
		sum += v
		return sum
	}
}
```

- –°–æ–∑–¥–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `sum`, –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Ä–∞–≤–Ω—É—é `0`.
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–∞–Ω–æ–Ω–∏–º–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é**, –∫–æ—Ç–æ—Ä–∞—è:
  - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —á–∏—Å–ª–æ `v`
  - –ü—Ä–∏–±–∞–≤–ª—è–µ—Ç –µ–≥–æ –∫ `sum`
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—É—é —Å—É–º–º—É

–≠—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä **—Ñ—É–Ω–∫—Ü–∏–∏ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è** ‚Äî –∑–∞–º—ã–∫–∞–Ω–∏–µ –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `sum` –º–µ–∂–¥—É –≤—ã–∑–æ–≤–∞–º–∏.

---

## üîπ –¢–∏–ø `iAdder` –∏ `adder2`

```go
type iAdder func(int) (int, iAdder)
```

- –≠—Ç–æ **—Ç–∏–ø —Ñ—É–Ω–∫—Ü–∏–∏**, –∫–æ—Ç–æ—Ä–∞—è:
  - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç `int`
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `int` –∏ **–Ω–æ–≤—É—é —Ç–∞–∫—É—é –∂–µ —Ñ—É–Ω–∫—Ü–∏—é iAdder**
- –ò–¥–µ—è: –∫–∞–∂–¥–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é —Ñ—É–Ω–∫—Ü–∏–∏**, –≤ –∫–æ—Ç–æ—Ä–æ–π –æ–±–Ω–æ–≤–ª–µ–Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

```go
func adder2(base int) iAdder {
	return func(v int) (int, iAdder) {
		return base + v, adder2(base + v)
	}
}
```

- `adder2` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `base`.
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é**, –∫–æ—Ç–æ—Ä–∞—è:
  - –°–∫–ª–∞–¥—ã–≤–∞–µ—Ç `v` —Å —Ç–µ–∫—É—â–∏–º `base`
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—É–º–º—É
  - –ê —Ç–∞–∫–∂–µ –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º `base + v`

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç "–Ω–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å" —Å—É–º–º—É **—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ**, –±–µ–∑ –∏–∑–º–µ–Ω—è–µ–º–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

---

## üîπ `main` –∏ –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

```go
a := adder2(0)
```

- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º "—Å—á—ë—Ç—á–∏–∫" —Å –Ω—É–ª—è

```go
for i := 0; i < 10; i++ {
	s, a = a(i)
	fmt.Printf("0 + 1 + ... + %d = %d\n", i, s)
}
```

- –í –∫–∞–∂–¥–æ–º —Ü–∏–∫–ª–µ:
  - `a(i)` –≤—ã—á–∏—Å–ª—è–µ—Ç —Å—É–º–º—É `base + i` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é `a`
  - `s` ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —Ç–µ–∫—É—â–∞—è —Å—É–º–º–∞
  - `a` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –≤–µ—Ä—Å–∏—é —Ñ—É–Ω–∫—Ü–∏–∏ —Å –Ω–æ–≤—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (`base + i`)

üìå –ü–æ —Å—É—Ç–∏, —ç—Ç–æ –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—â–∞—è —Å—É–º–º–∞:  
0 + 1 + 2 + ... + n

---

## üß† –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:

```
0 + 1 + ... + 0 = 0
0 + 1 + ... + 1 = 1
0 + 1 + ... + 2 = 3
0 + 1 + ... + 3 = 6
0 + 1 + ... + 4 = 10
...
0 + 1 + ... + 9 = 45
```

---

## ‚úÖ –†–µ–∑—é–º–µ:

| –§—É–Ω–∫—Ü–∏—è      | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç                                    |
|--------------|-----------------------------------------------|
| `adder()`    | –ü—Ä–æ—Å—Ç–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—É–º–º—É –≤–Ω—É—Ç—Ä–∏     |
| `adder2()`   | –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ         |
| `main()`     | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `adder2` –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ —Å—É–º–º—ã –æ—Ç 0 –¥–æ 9 |

–≠—Ç–æ –∫—Ä—É—Ç–æ–π —Å–ø–æ—Å–æ–± –ø–æ–∫–∞–∑–∞—Ç—å **—á–∏—Å—Ç–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥** –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é ‚Äî –±–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –≤—Å—ë —á–µ—Ä–µ–∑ **–≤–æ–∑–≤—Ä–∞—Ç –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π**.